<app-recovery (recover)="recoversuccess($event)"></app-recovery>
<br><br>
<mat-accordion>
  <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
    <mat-expansion-panel-header>
      <mat-panel-title>
        USER DEMOGRAPHICS
      </mat-panel-title>
      <mat-panel-description>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div *ngFor="let  x of userdemographics">
      <mat-expansion-panel hideToggle class="panel">
        <mat-expansion-panel-header class="expansion">
          <mat-panel-title>
            {{x.username}}
          </mat-panel-title>
          <mat-panel-description>
          </mat-panel-description>
        </mat-expansion-panel-header>
        <h4> <b>fullName :</b> {{x.fullName}} </h4>
        <h4> <b>user-Email:</b> {{x.email}} </h4>
        <h4> <b>user-mobile:</b> {{x.mobile}} </h4>
        <a data-bs-toggle="modal" data-bs-target="#coupon" mat-raised-buttoncolor="accent">
          <span id="tooltip" (click)="_id(x.id)" class="btn btn-primary"> reset password</span>
        </a>
      </mat-expansion-panel>
      <div class="modal fade" id="coupon" tabindex="-1" aria-labelledby="coupon" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-body">
              <form class="form" [formGroup]="passwordreset" (ngSubmit)='onSubmit()'>
                <div class="floated">
                  <div class="form-group">
                    <label>Password</label>
                    <input type="password" class="form-control pass-key" formControlName="password" appPasswordShow
                      placeholder="password">
                    <br>
                    <span class="text-danger"
                      *ngIf="(registerFormControl.password.touched || submitted) && registerFormControl.password.errors?.required">
                      Password is required*
                    </span>
                    <span class="text-danger"
                      *ngIf="registerFormControl.password.touched && registerFormControl.password.errors?.pattern">
                      Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase
                      letter and 1 number*
                    </span>
                  </div>
                  <div class="form-group">
                    <label>Confirm Password</label>
                    <input type="password" class="form-control" formControlName="confirmPassword"
                      placeholder="re-type password">
                    <span class="text-danger"
                      *ngIf="(registerFormControl.confirmPassword.touched || submitted)&& registerFormControl.confirmPassword.errors?.required">
                      Confirm Password is required*
                    </span>
                    <span class="text-danger"
                      *ngIf="registerFormControl.confirmPassword.touched && registerFormControl.confirmPassword.errors?.passwordMismatch">
                      Passwords doesnot match*
                    </span>
                  </div>
                </div>
                <button type="submit" [disabled]="passwordreset.invalid" class="btn btn-warning"
                  data-bs-dismiss="modal">Submit</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </mat-expansion-panel>
</mat-accordion>